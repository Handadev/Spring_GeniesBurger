<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="ReviewMapper">
 <insert id="add" parameterType="rvo">
 	insert into tbl_review (rno, pno, rcontent) values(seq_review_rno.nextval, #{pno}, #{rcontent})
 </insert>
 <insert id="adComm" parameterType="advo">
		INSERT INTO TBL_ADMINCOMMENT (acno, rno, adcomment) values(seq_adminComment_acno.nextval, #{rno}, #{adcomment})
	</insert>
 
 <select id="list" resultType="rvo">
 	SELECT * FROM tbl_review
 </select>
 <select id="curr" resultType="int">
 	select seq_review_rno.currval from dual
 </select>
 <select id="adList" parameterType="int" resultType="advo">
 	SELECT acno, adcomment, addate, ta.rno
FROM tbl_review tr INNER JOIN TBL_ADMINCOMMENT ta 
ON tr.rno = ta.rno
WHERE ta.rno = #{rno}
 </select>
 
 <delete id="del" parameterType="int">
 	delete from tbl_review where rno=#{rno}
 </delete>
 
 <update id="up" parameterType="hashmap">
 	update tbl_review set rcontent=#{rcontent} where rno=#{rno}
 </update>
 <update id="upImg" parameterType="rvo">
 	update tbl_review set ruuid = #{ruuid}, rsavedir = #{rsavedir}, rfname = #{rfname}, rftype = #{rftype} where rno = #{rno}
 </update>
 
 </mapper>